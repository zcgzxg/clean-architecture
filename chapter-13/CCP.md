- [CCP 共同封闭原则](#ccp-共同封闭原则)
  - [与SRP的相似性](#与srp的相似性)

## CCP 共同封闭原则

> 将那些因为相同的原因和在相同时间发生改变的类聚合成组件。
> 将因为不同原因和在不同时间发生改变的类分离成不同的组件。 

这就是单一职责原则针对组件的重新阐述。正如SRP指出一个类不应该包含多个改变原因一样，共同封闭原则（CCP）指出一个组件不应该有多个改变原因。
对于大多数应用程序来说，可维护性比可重用性更重要。如果应用程序中的代码必须更改，您希望所有更改都发生在一个组件中，而不是分布在许多组件中。
如果更改限于一个组件，那么我们只需要重新部署一个更改过的组件。不依赖于更改组件的其他组件不需要重新验证或重新部署。

CCP促使我们将所有可能因为相同原因而发生改变的类集中在一个地方。如果两个类之间联系紧密，无论是物理上还是概念上，它们总是一起变化，那么它们应该属于同一个组件。这可以最大限度地减少发布、验证和重新部署软件相关的工作量。

这个原则与开闭原则（OCP）密切相关。实际上，CCP所解决的是OCP中“封闭”的含义。OCP指出类应该封闭以进行修改，但应该对扩展开放。因为100%的封闭是无法实现的，封闭必须是有策略的。我们设计我们的类，使它们对我们预期或已经经历的最常见的变化是封闭的。

CCP通过将那些对同类变化敏感的类聚集到同一组件中，放大了这一效果。因此，当出现需求变化时，该变化很可能仅会影响到最少数量的组件。

### 与SRP的相似性

正如之前所述，CCP是SRP的组件形式。SRP告诉我们，如果方法因不同原因而改变，应将其分离到不同的类中。CCP则告诉我们，如果类因不同原因而改变，应将其分离到不同的组件中。这两个原则都可以用以下简洁表述：

将那些因相同时间和原因而变化的东西聚集在一起。将那些因不同时间或原因而变化的东西分开。
