- [CRP 共同重用原则](#crp-共同重用原则)
  - [与ISP的关系](#与isp的关系)

## CRP 共同重用原则

> 不要强迫组件的用户依赖他们不需要的东西。

共同重用原则（CRP）是另一个帮助我们决定哪些类和模块应该放入组件的原则。它声明那些倾向于一起重用的类和模块应该放在同一个组件中。

类很少单独被重用。更典型的情况是可重用类与可重用抽象的其他类协作。 CRP声明这些类应该放在同一个组件中。在这样的组件中，我们期望看到彼此具有很多依赖关系的类。

一个简单的例子可能是容器类及其相关的迭代器。这些类一起被重用，因为它们紧密耦合在一起。因此它们应该放在同一个组件中。

但是CRP告诉我们的不仅仅是将哪些类放在一个组件中：它还告诉我们不要将哪些类放在一个组件中。当一个组件使用另一个组件时，组件之间会创建依赖关系。也许使用组件仅使用用于组件中的一个类 - 但这仍然不会削弱依赖关系。使用组件仍然依赖于使用的组件。

因此，当我们依赖于一个组件时，我们希望确保我们依赖于该组件中的每个类。换句话说，我们希望确保我们放入一个组件中的类是不可分割的 - 不可能只依赖于其中的某些类而不依赖于其他类。否则，我们将会部署比必要更多的组件，浪费大量精力。

因此，CRP告诉我们更多的是哪些类不应该在一起，而不是哪些类应该在一起。CRP表示那些没有紧密绑定在一起的类不应该在同一个组件中。

### 与ISP的关系

CRP是ISP的通用版本。ISP建议我们不要依赖于含有我们不使用的方法的类。CRP建议我们不要依赖于含有我们不使用的类的组件。

所有这些建议都可以简化为一个简洁明了的口号：

> 不要依赖你不需要的东西。